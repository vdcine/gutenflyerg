<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Gutenflyerg Ciclos</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <meta property="og:title" content="Gutenflyerg Ciclos" />
    <meta
      property="og:description"
      content="Crear flyers personalizados para Ciclos de Cine con m√∫ltiples pel√≠culas."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://vdcine.github.io/gutenflyerg/" />
    <meta property="og:locale" content="es_ES" />
  </head>
  <body>
    <div class="container">
      <div style="display: flex; align-items: center; margin-bottom: 20px">
        <h1
          id="instrucciones"
          style="flex: 1; text-align: center; padding-left: 190px"
        >
          Gutenflyerg Ciclos de Cine
        </h1>
        <button
          class="back-button"
          onclick="location.href='gutenflyerg.html'"
          style="padding: 8px 16px"
        >
          Hacer flyer individual ‚Üí
        </button>
      </div>
      <hr />

      <form id="movieForm">
        <h2 id="instrucciones">1¬∞: Buscar y agregar pel√≠culas al ciclo</h2>
        <div
          style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap"
        >
          <span id="instrucciones">T√≠tulo:</span>
          <input
            type="text"
            id="movieSearch"
            placeholder="Terminator"
            required
            style="flex: 1; min-width: 200px"
          />
          <span id="instrucciones">Idioma:</span>
          <input
            type="text"
            id="movieLanguage"
            placeholder="es"
            style="width: 60px"
          />
          <button id="searchButton" type="submit">Buscar</button>
        </div>
        <small id="instrucciones" style="display: block; margin-top: 5px">
          Idioma no es obligatorio. 'en' para ingl√©s, 'es' para espa√±ol
        </small>
        <div id="movie-results" style="margin-top: 20px"></div>
        <hr />
      </form>

      <!-- PELICULAS SELECCIONADAS -->
      <div id="selected-movies-section">
        <h2 id="instrucciones">2¬∞: Pel√≠culas del ciclo</h2>
        <div
          id="selected-movies-list"
          style="
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
          "
        >
          <p
            id="instrucciones"
            style="text-align: center; color: #666; font-style: italic"
          >
            No hay pel√≠culas agregadas. Busca y selecciona hasta 4 pel√≠culas
            para el ciclo.
          </p>
        </div>
        <hr />
      </div>

      <div
        class="flyer-flex-row"
        style="
          display: flex;
          flex-direction: row;
          align-items: flex-start;
          justify-content: center;
          gap: 40px;
        "
      >
        <div
          class="flyer-flex-col"
          style="
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
          "
        >
          <h2 id="instrucciones">3¬∞: Configurar fondo del flyer</h2>
          <h3 id="instrucciones" style="margin-top: 0px">
            Selecciona un backdrop de cualquier pel√≠cula del ciclo o usa el
            fondo por defecto.
          </h3>

          <div
            style="
              width: 100%;
              display: flex;
              flex-direction: row;
              justify-content: center;
              gap: 40px;
              flex-wrap: wrap;
            "
          >
            <div
              id="backdrop-carousel-container"
              style="
                width: 700px;
                display: flex;
                flex-direction: column;
                align-items: center;
              "
            >
              <div style="margin-bottom: 10px">
                <input
                  type="text"
                  id="backdrop-direct-input"
                  placeholder="Pegar URL de backdrop"
                  style="width: 500px; margin-bottom: 5px; padding: 5px"
                />
                <button id="load-backdrop-direct" style="margin-left: 5px">
                  Cargar backdrop directo
                </button>
              </div>
              <div style="font-weight: bold; margin-bottom: 10px">
                Backdrops disponibles
              </div>
              <div
                id="backdrop-carousel"
                style="display: flex; align-items: center; gap: 20px"
              >
                <button id="backdrop-prev" style="font-size: 1.5em">
                  &#8592;
                </button>
                <img
                  id="backdrop-carousel-img"
                  src=""
                  alt="Backdrop"
                  style="
                    max-width: 640px;
                    max-height: 360px;
                    border: 1px solid #ccc;
                    background: #eee;
                  "
                />
                <button id="backdrop-next" style="font-size: 1.5em">
                  &#8594;
                </button>
              </div>
              <div
                id="backdrop-counter"
                style="margin-top: 8px; font-size: 1rem; color: #555"
              ></div>
              <button
                id="set-backdrop-as-bg"
                style="margin-top: 15px; font-size: 1rem"
              >
                Usar este backdrop como fondo del flyer
              </button>
              <button
                id="remove-backdrop-bg"
                style="margin-top: 5px; font-size: 1rem"
              >
                Quitar fondo de backdrop
              </button>
            </div>
          </div>
          <hr />

          <h2 id="instrucciones">4¬∞: Editar textos y colores del ciclo</h2>
          <h3 id="instrucciones" style="margin-top: 0px">
            Configura el nombre del ciclo, fecha y hora del evento. Para
            modificar colores haz click sobre los elementos del flyer.
          </h3>

          <div>
            <button id="toggle-rect">Ocultar rect√°ngulo vertical</button>
          </div>

          <div
            class="flyer-tabs"
            style="display: flex; gap: 12px; margin-bottom: 18px"
          >
            <button id="tab-story" class="flyer-tab active">
              Historia Instagram
            </button>
            <button id="tab-feed" class="flyer-tab">Feed Instagram</button>
          </div>

          <div class="flyer-container">
            <div>
              <div
                id="flyer-story"
                class="flyer-version"
                style="display: block"
              >
                <div class="tape"></div>
                <div class="rect"></div>
                <h1 class="header" id="header">VELADAS DE CINE</h1>

                <div class="subheader">
                  <h2 id="ciclo">Ciclo Tem√°tico</h2>
                </div>
                <!-- Contenedor de pel√≠culas del ciclo -->
                <div id="cycle-movies" class="cycle-movies-container">
                  <div class="cycle-movies-placeholder">
                    <p>Agrega pel√≠culas al ciclo para verlas aqu√≠</p>
                  </div>
                </div>

                <div
                  class="cycle-description"
                  style="
                    position: absolute;
                    left: 340px;
                    text-align: center;
                    width: 400px;
                    max-height: 150px;
                    min-height: 50px;
                    z-index: 10;
                  "
                >
                  <div
                    id="cycle-description-text"
                    class="cycle-description-text"
                    style="
                      font-family: 'Gilroy', sans-serif;
                      font-size: 40px;
                      font-weight: 400;
                      color: #fff;
                      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
                      padding: 5px 15px;
                      background: rgba(255, 255, 255, 0.1);
                      border-radius: 12px;
                      backdrop-filter: blur(5px);
                      display: flex;
                      justify-content: center;
                      align-items: center;
                      text-align: center;
                      max-width: 100%;
                      overflow-wrap: break-word;
                    "
                  >
                    Descripci√≥n del Ciclo
                  </div>
                </div>

                <div class="cycle-info" style="text-align: center">
                  <div
                    style="
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                      max-width: 880px;
                      margin: 0 auto;
                    "
                  >
                    <div class="flyer-hour-group" style="text-align: left">
                      <div id="flyer-hour" class="flyer-hour-ciclos">
                        19:00 HS
                      </div>
                    </div>
                    <div
                      class="flyer-biblioteca-group"
                      style="text-align: right"
                    >
                      <div
                        id="flyer-biblioteca"
                        class="flyer-biblioteca-ciclos"
                      >
                        <img
                          src="images/icon.png"
                          alt="ubicaci√≥n"
                          class="flyer-location-icon"
                        />
                        <span
                          >Auditorio<br />Biblioteca<br />
                          Men√©ndez</span
                        >
                      </div>
                    </div>
                  </div>
                </div>

                <div class="event-data">
                  <div class="rect2"></div>
                  <span id="org">
                    Organizan Mat√≠as Corona y Francisco Albani con apoyo de la
                    Comisi√≥n Directiva de la Biblioteca Men√©ndez.
                  </span>
                </div>
              </div>

              <div id="flyer-feed" class="flyer-version" style="display: none">
                <div class="tape" style="top: -152px"></div>
                <div class="rect-feed"></div>
                <h1
                  class="header-feed"
                  id="header-feed"
                  style="font-size: 85px"
                >
                  VELADAS DE CINE
                </h1>

                <div class="subheader-feed-ciclos">
                  <h2 id="ciclo-feed" style="font-size: 36px">
                    Ciclo Tem√°tico
                  </h2>
                </div>

                <div
                  class="feed-content"
                  style="display: flex; flex-direction: column"
                >
                  <div
                    id="cycle-movies-feed"
                    class="cycle-movies-feed-container"
                  >
                    <div class="cycle-movies-placeholder">
                      <p>Agrega pel√≠culas al ciclo para verlas aqu√≠</p>
                    </div>
                  </div>
                </div>

                <div
                  class="cycle-description-feed"
                  style="
                    position: absolute;
                    left: 340px;
                    text-align: center;
                    width: 400px;
                    max-height: 150px;
                    min-height: 50px;
                    z-index: 10;
                    top: 880px;
                  "
                >
                  <div
                    id="cycle-description-text-feed"
                    class="cycle-description-text-feed"
                    style="
                      font-family: 'Gilroy', sans-serif;
                      font-size: 35px;
                      font-weight: 400;
                      color: #fff;
                      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
                      padding: 12px 20px;
                      background: rgba(255, 255, 255, 0.1);
                      border-radius: 10px;
                      backdrop-filter: blur(5px);
                      max-width: 100%;
                      overflow-wrap: break-word;
                    "
                  >
                    Descripci√≥n del Ciclo
                  </div>
                </div>

                <div
                  class="feed-event-info"
                  style="
                    display: flex;
                    justify-content: center;
                    gap: 475px;
                    align-items: center;
                  "
                >
                  <div class="flyer-hour-group-feed" style="text-align: left">
                    <div
                      id="flyer-hour-feed"
                      class="flyer-hour-feed"
                      style="font-size: 36px; text-align: left"
                    >
                      19:00 HS
                    </div>
                  </div>
                  <div
                    class="flyer-biblioteca-group-feed"
                    style="text-align: right"
                  >
                    <div id="flyer-biblioteca-feed" class="flyer-biblioteca">
                      <img
                        src="images/icon.png"
                        alt="ubicaci√≥n"
                        class="flyer-location-icon"
                      />
                      <span>
                        Auditorio<br />Biblioteca<br />
                        Men√©ndez
                      </span>
                    </div>
                  </div>
                </div>

                <div class="event-data" style="height: 70px">
                  <div class="rect2-feed" style="height: 80px"></div>
                  <span id="org-feed" style="font-size: medium">
                    Organizan Mat√≠as Corona y Francisco Albani con apoyo de la
                    Comisi√≥n Directiva de la Biblioteca Men√©ndez.
                  </span>
                </div>
              </div>
            </div>

            <div class="panel">
              <div>
                <label>Nombre del Ciclo</label>
                <input id="cicloInput" type="text" value="Ciclo Tem√°tico" />
              </div>

              <div class="full">
                <label>Descripci√≥n del Ciclo(opcional)</label>
                <input
                  id="cycleDescriptionInput"
                  type="text"
                  value="Descripci√≥n del Ciclo"
                />
              </div>

              <div>
                <label>Hora</label>
                <input id="hourInput" type="time" value="19:00" />
              </div>

              <div class="full">
                <button id="applyTxtBtn">Aplicar cambios</button>
              </div>

              <div
                id="individual-dates-section"
                style="margin-top: 20px; display: none"
              >
                <hr style="margin: 15px 0; border-top: 1px solid #444" />
                <label style="margin-bottom: 10px; display: block"
                  >Fechas individuales y t√≠tulos de pel√≠culas</label
                >
                <div
                  id="individual-dates-container"
                  style="display: flex; flex-direction: column; gap: 8px"
                ></div>
                <div class="full" style="margin-top: 10px">
                  <button id="applyIndividualDatesBtn">Aplicar cambios</button>
                </div>
              </div>

              <label>Borde textos</label>
              <div style="display: flex; gap: 10px; align-items: flex-start">
                <div style="flex: 1">
                  <select
                    id="strokeTargetSelect"
                    multiple
                    size="5"
                    style="width: 100%"
                  >
                    <option value="header">Encabezado</option>
                    <option value="subheader">Nombre del ciclo</option>
                    <option value="cycle-description-text">
                      Descripci√≥n del ciclo
                    </option>
                    <option value="flyer-hour">Hora</option>
                    <option value="flyer-biblioteca">Ubicaci√≥n</option>
                    <option value="movie-title">T√≠tulos de pel√≠culas</option>
                    <option value="movie-info">Info de pel√≠culas</option>
                    <option value="movie-date">Fechas de pel√≠culas</option>
                  </select>
                </div>
                <div
                  style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 8px;
                  "
                >
                  <input
                    type="color"
                    name="strokeColor"
                    id="strokeColorInput"
                    value="#000000"
                    style="
                      width: 50px;
                      height: 50px;
                      border: none;
                      border-radius: 8px;
                      cursor: pointer;
                    "
                  />
                  <span style="font-size: 10px; opacity: 0.7">Color</span>
                </div>
              </div>

              <div
                style="
                  display: flex;
                  flex-direction: row;
                  gap: 5px;
                  margin-top: 8px;
                "
              >
                <button id="applyStrokeBtn" style="flex: 1">
                  Aplicar borde
                </button>
                <button id="removeStrokeBtn" style="flex: 1">
                  Quitar borde
                </button>
              </div>

              <div>
                <label>Tama√±o hora</label>
                <input
                  id="flyerHourFontSizeInput"
                  type="number"
                  min="10"
                  max="100"
                  value="50"
                  style="width: 80px"
                />
                px
              </div>
              <div>
                <label>Tama√±o descripci√≥n</label>
                <input
                  id="cycleDescriptionFontSizeInput"
                  type="number"
                  min="10"
                  max="100"
                  value="40"
                  style="width: 80px"
                />
                px
              </div>
              <div>
                <label>Ancho rect√°ngulo</label>
                <input
                  id="rectWidthInput"
                  type="number"
                  min="10"
                  max="1000"
                  value="460"
                  style="width: 80px"
                />
                px
              </div>
              <div class="import-export-buttons">
                <button
                  id="exportDataBtn"
                  class="export-btn"
                  title="Exportar toda la configuraci√≥n actual como archivo JSON"
                >
                  üì§ Exportar Datos
                </button>
                <button
                  id="importDataBtn"
                  class="import-btn"
                  title="Importar configuraci√≥n desde archivo JSON"
                >
                  üì• Importar Datos
                </button>
                <input
                  type="file"
                  id="importFileInput"
                  accept=".json"
                  style="display: none"
                />
              </div>
            </div>
          </div>

          <h2 id="instrucciones">
            <br />
            5¬∞: Guardar imagen del flyer
            <br />
          </h2>

          <button
            type="button"
            id="saveFlyer"
            style="
              margin-bottom: 20px;
              display: block;
              margin-top: 20px;
              padding: 10px 20px;
              font-size: 16px;
              cursor: pointer;
              margin-left: auto;
              margin-right: auto;
            "
          >
            Descargar Historia
          </button>

          <button
            type="button"
            id="saveFlyerFeed"
            style="
              margin-bottom: 20px;
              display: none;
              margin-top: 20px;
              padding: 10px 20px;
              font-size: 16px;
              cursor: pointer;
              margin-left: auto;
              margin-right: auto;
            "
          >
            Descargar Feed
          </button>
        </div>
      </div>
    </div>

    <input
      type="color"
      id="floatingColorPicker"
      style="position: absolute; display: none; z-index: 9999"
    />
    <button
      id="activateEyedropper"
      type="button"
      style="margin-left: 10px; display: none"
    ></button>
    <div
      id="comicColorPickerPanel"
      style="
        position: absolute;
        display: none;
        z-index: 9999;
        background: #fff;
        padding: 12px 16px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
      "
    >
      <div
        style="
          display: flex;
          align-items: center;
          margin-bottom: 12px;
          gap: 8px;
        "
      >
        <span style="font-weight: bold">√öltimo color:</span>
        <div
          id="comicLastColorSquare"
          style="
            width: 24px;
            height: 24px;
            border: 2px solid #333;
            border-radius: 4px;
            background: #fff;
            cursor: pointer;
            display: none;
          "
          title="Click para seleccionar el √∫ltimo color seleccionado"
        ></div>
      </div>
      <label style="display: block; margin-bottom: 8px">
        Fondo <input type="color" id="comicBgColorPicker" />
        <button
          id="activateEyedropperBg"
          type="button"
          style="margin-left: 10px"
        >
          Seleccionar color
        </button>
      </label>
      <label style="display: block; margin-bottom: 8px">
        Borde <input type="color" id="comicBorderColorPicker" />

        <button
          id="activateEyedropperBorder"
          type="button"
          style="margin-left: 10px"
        >
          Seleccionar color
        </button>
      </label>
      <label style="display: block">
        Texto <input type="color" id="comicTextColorPicker" />

        <button
          id="activateEyedropperText"
          type="button"
          style="margin-left: 10px"
        >
          Seleccionar color
        </button>
      </label>
    </div>
  </body>
  <script src="script-ciclos.js"></script>
</html>
